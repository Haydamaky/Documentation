## Специфікація вимог на проект

### **"Онлайн-гра Монополія"**

---

**СТУДЕНТИ**  
Крошка Ілля  
Поночовний Антон  
Стреля Ілля  
Юрченко Тарас

**ГРУПА**  
ІМ-23

**ДАТА**  
30.09.2024

---

## 2. Зміст

1. [Титульна сторінка](#1-титульна-сторінка)
2. [Зміст](#2-зміст)
3. [Вступ](#3-вступ)
    - [Мета проекту](#мета-проекту)
    - [Опис проблеми](#опис-проблеми)
    - [Основні цілі](#основні-цілі)
4. [Опис системи](#4-опис-системи)
    - [Опис користувачів (ролей)](#опис-користувачів-ролей)
    - [Опис основних функцій](#опис-основних-функцій)
5. [Функціональні вимоги](#5-функціональні-вимоги)
6. [Нефункціональні вимоги](#6-нефункціональні-вимоги)
7. [Стек технологій](#7-стек-технологій)
8. [Ролі членів команди](#8-ролі-членів-команди)
9. [Пріоритетність вимог](#9-пріоритетність-вимог)
10. [Висновки](#10-висновки)

---

## 3. Вступ

У сучасному світі онлайн-ігри стають невід'ємною частиною соціальних взаємодій та розваг. З розвитком цифрових технологій, спільне проведення часу з друзями онлайн є не лише популярною розвагою, а й важливим інструментом для збереження соціальних контактів та взаємодії. Проект "Онлайн монополія" має на меті створити зручний вебсайт, де користувачі зможуть грати у відому настільну гру "Монополія" разом зі своїми друзями, створювати ігрові кімнати, а також шукати нових знайомих для гри.

### Мета проекту

Метою проекту є створення багатокористувацької онлайн платформи для гри в "Монополію", яка дозволить користувачам легко створювати ігрові кімнати, спілкуватися з іншими гравцями, а також персоналізувати власні профілі. Цей проєкт спрямований на покращення соціальної взаємодії через гру та забезпечення інтуїтивно зрозумілого та комфортного інтерфейсу для користувачів.

### Опис проблеми, яку має вирішити проект

Основна проблема, яку має вирішити проект, полягає у відсутності доступної та якісної онлайн платформи для гри в "Монополію", де користувачі могли б створювати приватні ігрові кімнати для гри з друзями або приєднуватися до ігор з іншими користувачами. Існуючі рішення можуть бути складними у використанні або не мати достатньо інтерактивних можливостей для комунікації. Проект покликаний заповнити цю прогалину, пропонуючи зручний та функціональний інтерфейс.

### Основні цілі

- **Розробка вебсайту**: Створення інтуїтивної платформи, де користувачі зможуть легко взаємодіяти з інтерфейсом, створювати власні кімнати для гри та запрошувати друзів.

- **Ігрова інтеграція**: Залучення механіки гри "Монополія", забезпечення точного відтворення правил та умов гри для максимально реалістичного досвіду.

- **Соціальні функції**: Створення можливостей для пошуку нових друзів, спілкування у чаті під час гри, ведення власного профілю та рейтингу.

- **Мобільна версія (на майбутнє)**: Хоча перша версія платформи буде орієнтована на десктопних користувачів, у майбутньому можливий розвиток мобільної версії для смартфонів та планшетів. Це забезпечить ширший доступ до гри та підвищить зручність для користувачів, які надають перевагу мобільним пристроям.

Цей проект націлений на те, щоб об'єднати людей навколо улюбленої гри та створити простір для спілкування і розваг, з можливістю подальшого розвитку функцій для мобільних пристроїв у майбутньому.

---

## 4. Опис системи

### Опис користувачів (ролей)

- **Гравець**:

    - Реєструється або входить в систему для участі в грі.
    - Може створювати нові ігри або приєднуватися до вже існуючих.
    - Має персональний профіль з ігровою статистикою, а також доступ до історії зіграних ігор.
    - Має можливість вести комунікацію з іншими гравцями через чат під час гри.

- **Адміністратор**:
    - Має доступ до адміністративної панелі для керування користувачами, серверними налаштуваннями та спірними ситуаціями.
    - Може створювати, редагувати або видаляти ігри.
    - Керує профілями гравців, вирішує технічні проблеми, контролює систему банів або попереджень для гравців.

### Опис основних функцій

#### 1. Реєстрація та вхід у систему

- **Опис**: Користувач може створити новий акаунт через традиційну реєстрацію (електронна пошта та пароль) або через сторонні сервіси (Google, Facebook).
- **Дані**:
    - **Користувач**: ID, ім'я користувача, електронна пошта, пароль (хеш), дата реєстрації, статус (активний/заблокований), аватар (опціонально).
    - **Стороння авторизація**: ID стороннього акаунту, тип сервісу (Google/Facebook), токен доступу.

#### 2. Створення та приєднання до гри

- **Опис**: Гравець може створити нову ігрову кімнату та запросити до неї інших гравців через посилання або вибрати гравців з наявного списку друзів. Інші користувачі можуть також приєднуватися до вже створених ігор.
- **Дані**:
    - **Гра**: ID гри, ініціатор, кількість гравців, статус (очікування, активна, завершена), створення часу, тип гри (приватна/публічна).
    - **Гравець у грі**: ID гравця, роль (ініціатор, учасник), статус у грі (очікування/активний/переможець/програв).
    - **Запрошення**: ID запрошення, відправник, одержувач, статус (прийнято/відхилено/в очікуванні).

#### 3. Ігровий процес

- **Опис**: Гра включає кидання кубиків, пересування по полю, купівлю/продаж майна, сплату податків, хабар у в'язниці, гра в казино та інші транзакції між гравцями.
- **Дані**:
    - **Кубики**: результат (1-6 для кожного кубика).
    - **Поле**: ID позиції на полі, назва, тип (майно, спеціальні поля тощо).
    - **Майно**: ID майна, назва, ціна, власник, статус (куплено/не куплено), рівень (кількість будівель/готелів).
    - **Транзакція**: ID транзакції, відправник, одержувач, сума, тип (покупка/податок/оренда).

#### 4. Чат

- **Опис**: Гравці можуть спілкуватися в процесі гри через інтегрований чат, обмінюючись повідомленнями у режимі реального часу.
- **Дані**:
    - **Повідомлення**: ID повідомлення, ID гри, ID відправника, текст, час відправлення.

#### 5. Статистика та профіль гравця

- **Опис**: Профіль кожного гравця містить дані про його активність, досягнення та статистику попередніх ігор.
- **Дані**:

    - **Профіль користувача**: ID, ім'я користувача, аватар, загальна кількість ігор, кількість перемог, середній рейтинг.
    - **Ігрова статистика**: ID гри, ID гравця, позиція у грі (переможець/програв), тривалість гри.

---

## 5. Функціональні вимоги

### 1. **Користувацький інтерфейс**

- **Реєстрація та вхід**:  
  Гравець повинен мати можливість створювати акаунт, використовуючи електронну пошту та пароль, або через сторонні сервіси (Google, Facebook). Також він має змогу входити в систему через ці ж методи.

- **Створення та приєднання до гри**:  
  Гравець може створити нову ігрову кімнату, налаштувати параметри гри (приватна/публічна) та запросити інших гравців. Крім того, він може приєднуватися до існуючих ігор через посилання або з доступного списку ігор.

- **Ігровий інтерфейс**:  
  Інтерфейс гри повинен надавати візуалізацію ігрового поля, карток майна, гравців, ігрової валюти та інших елементів гри. Усі візуальні компоненти повинні бути інтуїтивними та легкими для взаємодії. Гравці повинні мати змогу бачити поточну статистику та стан свого рахунку під час гри.

### 2. **Основні характеристики ігрової кімнати**

#### Кількість гравців:
- Кімната гри розрахована на 2-4 гравців. Один із гравців є ініціатором створення кімнати, інші гравці можуть приєднатися через запрошення або зі списку доступних ігор.
- Якщо кількість гравців не досягає мінімальної (2 особи), гра не розпочнеться, і гравці залишаються в очікуванні заповнення кімнати.

#### Час на хід:
- Кожен гравець має 60 секунд для того, щоб зробити свій хід. Час починає відліковуватися від моменту, коли система передає хід конкретному гравцю.
- Якщо гравець не встигає зробити хід протягом 60 секунд, система автоматично додає додаткові 5 секунд. Це дає гравцю більше часу для прийняття рішення або завершення свого ходу.

#### Активність та відмова:
- Якщо гравець не здійснює жодної дії протягом основних 60 секунд та додаткових 5 секунд, система вважає його таким, що здався або вийшов із гри.
- Гравець, що здався, автоматично виключається з поточної гри. Усі його активи (майно та гроші) переходять до банку, і інші гравці продовжують грати без нього.

#### Перехід ходу:
- Після завершення ходу одного гравця або його відмови, система автоматично передає хід наступному гравцю за чергою.
- Система відслідковує хронологію ходів, щоб гарантувати, що кожен гравець має рівний час для прийняття рішень.

#### Система нагадувань:
- За кілька секунд до закінчення часу (наприклад, за 10 секунд до завершення ходу) система надсилає гравцю сповіщення у вигляді візуального сигналу або звукового повідомлення, щоб нагадати про необхідність зробити хід.

#### Банкрутство та вихід з гри:
- У разі банкрутства одного з гравців або його відмови від гри, система продовжує гру з рештою учасників.
- Переможцем вважається гравець, який залишився останнім, маючи найкращий фінансовий стан або найбільше активів, якщо решта гравців вийшли з гри чи зазнали банкрутства.

### 3. **Комунікація**

- **Чат**:  
  Під час гри гравці можуть взаємодіяти один з одним через вбудований чат. Повідомлення мають відображатися в реальному часі, дозволяючи учасникам обговорювати стратегії, домовлятися про угоди чи просто спілкуватися. Інтерфейс чату повинен бути доступним як у повноекранному режимі гри, так і в мініатюрі, щоб не заважати ігровому процесу.

### 4. **Збереження прогресу**

- **Автозбереження**:  
  Прогрес гри автоматично зберігається на сервері після кожного ходу або важливої події (купівля майна, зміна гравця тощо). У випадку переривання з'єднання або інших технічних проблем, гравці повинні мати змогу відновити гру з того місця, де вона була припинена.

- **Відновлення гри**:  
  Після відновлення з'єднання або повторного входу гравець зможе продовжити гру зі збереженого стану без втрати прогресу. Гра також повинна залишатися доступною для інших гравців навіть у разі виходу одного з учасників.

---

## 6. Нефункціональні вимоги

1. **Продуктивність**:
    - Система повинна підтримувати одночасне підключення до 100 користувачів без зниження продуктивності.
2. **Масштабованість**:

    - Архітектура повинна дозволяти горизонтальне масштабування для підтримки великої кількості гравців.

3. **Надійність**:
    - Прогрес гри повинен автоматично зберігатися кожні 30 секунд.
4. **Безпека**:
    - Використання шифрування для захисту даних користувачів (SSL).
    - Аутентифікація повинна бути захищеною від атак типу "brute-force".
    - База даних повинна бути захищена від sql ін'єкцій.
5. **Підтримка**:
    - Всі основні функції повинні працювати на популярних браузерах і в майбутньому на мобільних додатках.
6. **Інтерфейс**:
    - Інтерфейс користувача повинен завантажуватися не більше ніж за 2 секунди.

---

## 7. Стек технологій

- **Front-end**: Next js, Tailwind css
- **Back-end**: Nest js
- **База даних**: PostgreSQL, prismaORM
- **Аутентифікація**: OAuth 2.0 (Google, Facebook)
- **Реальний час**: WebSockets (Socket.IO)
- **Хостинг**: DigitalOcean і Supabase
- **Контейнеризація**: Docker
- **Система контролю версій**: Git

---

## 8. Ролі членів команди

- **Front-end розробник**: Розробляє інтерфейс гри, забезпечує його інтерактивність і відповідність дизайну.
- **Back-end розробник**: Відповідає за серверну частину, логіку ігрового процесу та управління базами даних.
- **UX/UI дизайнер**: Створює макети, продумує зручність користування та інтуїтивність інтерфейсу.
- **DevOps інженер**: Налаштовує середовища розробки, деплоймент, моніторинг та безперебійність роботи системи.
- **Тестувальник**: Відповідає за перевірку функціональних та нефункціональних вимог, пошук багів та їх документування.

---

## 9. Пріоритетність вимог

1. **Високий пріоритет**:

    - Реєстрація, створення гри та приєднання до гри.
    - Ігровий процес: кидання кубиків, пересування, купівля/продаж майна, застава майна, спеціальні ділянки.
    - Збереження прогресу гри.

2. **Середній пріоритет**:

    - Інтеграція чату.
    - Статистика профілю користувача.

3. **Низький пріоритет**:
    - Інтеграція з соціальними мережами для входу (OAuth).
    - Інтеграція ринку для продажу логотипів

---

## 10. Висновки

Дана специфікація описує основні вимоги до розробки онлайн-гри "Монополія". Реалізація проекту повинна базуватися на функціональних і нефункціональних вимогах, з чітким розподілом ролей серед членів команди. Наступні кроки включають детальне проектування архітектури, створення прототипів інтерфейсу та початок розробки основних функцій.
